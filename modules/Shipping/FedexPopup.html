<!-- BEGIN: main -->
<form method="post" action="index.php">
	<input type="hidden" name="module" value="Shipping"  />
	<input type="hidden" name="action" value="FedexPopup" />
	<input type="hidden" name="to_pdf" value="true" />
	<h3>{MOD.LBL_FEDEX_FORM_TITLE}</h3>
	<div class="error">
		{ERRORS}
	</div>
	<table cellpadding="0" cellspacing="0" border="0" width="100%" class="tabForm">
		<tr height="20">
			<td class="dataLabel" colspan="4"><h4 class="dataLabel">{MOD.LBL_FEDEX_SHIPPING_TYPE}</h4></td>
		</tr>
		<tr height="20">
			<td width="40%" class="dataLabel">{MOD.LBL_FEDEX_SERVICE_TYPE}</td>
			<td class="dataField">
				<select name="service_type">{TYPE_OPTIONS}</select>
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_COD}</td>
			<td class="dataField">
				<input type="checkbox" class="checkbox" name="cod" value="checked" {cod}  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_COD_AMOUNT}</td>
			<td class="dataField">
				<input type="text" size="6" maxlength="12" name="cod_amount" value="{cod_amount}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_MAKE_LABELS}</td>
			<td class="dataField">
				<input type="checkbox" class="checkbox" name="create_label" value="checked" {create_label}  />
			</td>
		</tr>

	</table>

	<table cellpadding="0" cellspacing="0" border="0" width="100%" class="tabForm">
		<tr height="20">
			<td class="dataLabel" colspan="4"><h4 class="dataLabel">{MOD.LBL_SENDER}</h4></td>
		</tr>
		<tr height="20">
			<td width="40%" class="dataLabel">&nbsp;</td>
			<td class="dataField">
				<select name="company_id">{COMPANY_OPTIONS}</select>
			</td>
		</tr>
		<tr height="20">
			<td width="40%" class="dataLabel">{MOD.LBL_COMPANY}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_company" value="{s_company}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_CONTACT_NAME}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_contact" value="{s_contact}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_PHONE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_phone" value="{s_phone}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_ADDRESS1}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_address1" value="{s_address1}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_ADDRESS2}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_address2" value="{s_address2}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_CITY}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_city" value="{s_city}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_STATE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_state" value="{s_state}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_POSTAL_CODE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="s_zip" value="{s_zip}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_COUNTRY}</td>
			<td class="dataField">
				<input type="text" size="3" maxlength="2" name="s_country" value="{s_country}"  id="s_country" />
				<select onchange="set_country(this,'s_country')">{COUNTRIES}</select>
			</td>
		</tr>

	</table>

	<table cellpadding="0" cellspacing="0" border="0" width="100%" class="tabForm">
		<tr height="20">
			<td class="dataLabel" colspan="4"><h4 class="dataLabel">{MOD.LBL_RECIPIENT}</h4></td>
		</tr>
		<tr height="20">
			<td width="40%" class="dataLabel">{MOD.LBL_COMPANY}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_company" value="{r_company}" >
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_CONTACT_NAME}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_contact" value="{r_contact}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_PHONE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_phone" value="{r_phone}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_ADDRESS1}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_address1" value="{r_address1}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_ADDRESS2}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_address2" value="{r_address2}"  />
			</td>
		</tr>
		<tr height="20">
			<td class="dataLabel">{MOD.LBL_CITY}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_city" value="{r_city}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_STATE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_state" value="{r_state}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_POSTAL_CODE}</td>
			<td class="dataField">
				<input type="text" size="30" maxlength="35" name="r_zip" value="{r_zip}"  />
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_COUNTRY}</td>
			<td class="dataField">
				<input type="text" size="3" maxlength="2" name="r_country" value="{r_country}" id="r_country" />
				<select onchange="set_country(this,'r_country')">{COUNTRIES}</select>
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_RESIDENTIAL}</td>
			<td class="dataField">
				<input type="checkbox" class="checkbox" name="r_residential" value="checked" {r_residential}  />
			</td>
		</tr>


	</table>

	<table cellpadding="0" cellspacing="0" border="0" width="100%" class="tabForm">
		<tr height="20">
			<td class="dataLabel" colspan="4"><h4 class="dataLabel">{MOD.LBL_INTERNATIONAL}</h4></td>
		</tr>

		<tr height="20">
			<td class="dataLabel" colspan="4"><i>{MOD.LBL_INTERNATIONAL_NOTICE}</i></td>
		</tr>

		<tr height="20">
			<td width="40%" class="dataLabel">{MOD.LBL_DUTIES_PAYOR}</td>
			<td class="dataField">
				<select name="duties_payor">{DUTY_PAYOR_OPTIONS}</select>
			</td>
		</tr>

		<tr height="20">
			<td class="dataLabel">{MOD.LBL_CUSTOMS_VALUE}</td>
			<td class="dataField">
				<input type="text" size="6" maxlength="12" name="customs_value" value="{customs_value}"  />
			</td>
		</tr>
	</table>

	<table cellpadding="0" cellspacing="0" border="0" width="100%" class="tabForm">
		<tbody>
		<tr height="20">
			<td class="dataLabel" colspan="4"><h4 class="dataLabel">{MOD.LBL_COMMODITIES}</h4></td>
		</tr>

		<tr height="20">
			<td class="dataLabel" colspan="10"><i>{MOD.LBL_INTERNATIONAL_NOTICE}</i></td>
		</tr>
	</tbody>
	<tbody>
		<tr>
			<th class="dataLabel"># of pieces</th>
			<th class="dataLabel">Descr.</th>
			<th class="dataLabel">Country of manuf.</th>
			<th class="dataLabel">Weight</th>
			<th class="dataLabel">Units</th>
			<th class="dataLabel">Qty</th>
			<th class="dataLabel">Qty Units</th>
			<th class="dataLabel">Unit Price</th>
			<th class="dataLabel">Customs Value</th>
		</tr>
	</tbody>
	<tbody id="commodities">
	</tbody>
	<tbody>
		<tr height="20">
			<td class="dataLabel" colspan="10">
				<input type="button" value="{MOD.LBL_ADD_COMMODITY}" class="button" onclick="add_row({})"/>
			</td>
		</tr>
	</tbody>
	</table>
	<input type="Submit" class="button" />
</form>

<script type="text/javascript">
	var template = '<tr id="comm(i)">' +
		'<td class="dataLabel"><input type="text" name="com[(i)][num_pieces]" size="2" value="(num_pieces)" /></td>' +
		'<td class="dataLabel"><input type="text" name="com[(i)][description]" size="10" value="(description)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][country]" size="2" value="(country)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][weight]" size="2" value="(weight)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][weight_units]" size="2" value="(weight_units)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][qty]" size="2"  value="(qty)"/></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][qty_units]" size="2" value="(qty_units)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][unit_price]" size="2" value="(unit_price)" /></td>' +
			'<td class="dataLabel"><input type="text" name="com[(i)][customs_value]" size="2" value="(customs_value)" /></td>' +
			'<td class="dataLabel">{DELETE_IMG}</td>' +
			'</tr>';
		function add_row(data)
		{
			var i = document.getElementById('commodities').counter; 
			if (typeof(i) == 'undefined') {
				i = 0;
			}
			document.getElementById('commodities').counter = i+1; 
			var html = template;
			html = html.replace(/\(i\)/g, i);
			for (var x in data) {
				html = html.replace('(' + x + ')', data[x]);
			}
			html = html.replace(/\([a-z_]+\)/g , '');
			document.getElementById('commodities').innerHTML += html;

		}

		function remove_row(i)
		{
			var id = 'comm' + i;
			var row = document.getElementById(id);
			row.parentNode.removeChild(row);
		}

		function set_country(el, id)
		{
			document.getElementById(id).value = el.value;
			el.value = '';
			return false;
		}

</script>
<!-- END: main -->

